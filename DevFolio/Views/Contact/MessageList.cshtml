@*@using PagedList
    @using PagedList.Mvc*@
@*@model PagedList.IPagedList<DevFolio.Models.TblContact>*@
@model List<DevFolio.Models.TblContact>
@{
    ViewBag.Title = "MessageList";
    Layout = "~/Views/AdminLayout/Index.cshtml";
}


<h2>Mesaj Listesi</h2>

<div class="container">

    <br />
    <table class="table table-bordered" id="tblmesaj">
        <thead>
            <tr class="table-secondary">
                <th>#</th>
                <th>Gönderen</th>
                <th>E-Mail</th>
                <th>Konu</th>
                <th>Tarih</th>
                <th>Durum</th>
                <th>Mesajı Aç</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                string durum = "";
                string deger = "";
                if (item.IsRead == false)
                {
                    durum = "bg-danger";
                    deger = "Okunmadı";
                }
                else
                {
                    durum = "bg-secondary";
                    deger = "Okundu";
                }

                <tr>
                    <td>@item.ContactID</td>
                    <td>@item.NameSurname</td>
                    <td>@item.Email</td>
                    <td>@item.Subject</td>
                    <td>@(((DateTime)item.SendMessageDate).ToString("dd.MM.yyyy"))</td>
                    <td><span class="badge @durum" style="color:white">@deger</span></td>
                    <td><a href="/Contact/ReadMessage/@item.ContactID" class="btn btn-success">Mesaj Detay</a></td>

                </tr>
            }

        </tbody>
    </table>
    @*@Html.PagedListPager((IPagedList)Model, page => Url.Action("MessageList", new { page }), new PagedListRenderOptions
        {
        LiElementClasses = new List<string>
        {"page-link" }
        })*@
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>

<link href="~/Content/DataTables/css/dataTables.bootstrap4.css" rel="stylesheet" />
<link href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css" rel="stylesheet" />

<script>
    $('#tblmesaj').DataTable();
</script>